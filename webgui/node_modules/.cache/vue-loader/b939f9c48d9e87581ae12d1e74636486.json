{"remainingRequest":"/home/claire/Dev/workspace/M2/agentinternaute/webgui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/claire/Dev/workspace/M2/agentinternaute/webgui/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/claire/Dev/workspace/M2/agentinternaute/webgui/src/views/Register.vue","mtime":1613956033560},{"path":"/home/claire/Dev/workspace/M2/agentinternaute/webgui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/claire/Dev/workspace/M2/agentinternaute/webgui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/claire/Dev/workspace/M2/agentinternaute/webgui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/claire/Dev/workspace/M2/agentinternaute/webgui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3UHJvZmlsZTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGFnZTogMTgsCiAgICAgICAgc2V4OiAid2hva25vd3MiLAogICAgICAgIG1heEJ1ZGdldDogNSwKICAgICAgICBhdmVyYWdlQ29uc3VtcHRpb25UaW1lOiAxLAogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiAodmFsdWUpID0+ICEhdmFsdWUgfHwgIkNoYW1wIHJlcXVpcyIsCiAgICAgICAgYWdlOiAodmFsdWUpID0+ICh2YWx1ZSAmJiAvKD89XlswLTldKiQpLy50ZXN0KHZhbHVlKSAmJiB2YWx1ZSA+PSAxOCkgfHwgIk1pbWltdW0gMTggYW5zIiwKICAgICAgICBtYXhCdWRnZXQ6ICh2YWx1ZSkgPT4gKHZhbHVlICYmIC8oPz1eWzAtOV0qJCkvLnRlc3QodmFsdWUpICYmIHZhbHVlID49IDUpIHx8ICJNaW5pbXVtIDXigqwiLAogICAgICAgIGF2ZXJhZ2VDb25zdW1wdGlvblRpbWU6ICh2YWx1ZSkgPT4gKHZhbHVlICYmIC8oPz1eWzAtOV0qJCkvLnRlc3QodmFsdWUpICYmIHZhbHVlID49IDEpIHx8ICJNaW5pbXVtIDEgaGV1cmUiLAogICAgICB9LAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyJwcm9maWxlIl0pLAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5wcm9maWxlICE9IG51bGwpIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInJlY2hlcmNoZXIiIH0pOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdvVG9Mb2dpbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAibG9naW4iIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KCIvcHJvZmlsZSIsIHRoaXMubmV3UHJvZmlsZSkudGhlbigKICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIHRoaXMucHJvZmlsZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFByb2ZpbGUiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInByb2ZpbGUiIH0pOwogICAgICAgIH0sCiAgICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div\n    style=\"width: 100%; height: 100%; background-color: #efefef;\"\n    class=\"d-flex flex-column align-center justify-space-between flex-grow-1\"\n  >\n    <v-card width=\"50%\" max-width=\"400px\" class=\"d-flex flex-column ma-10 pa-3\">\n      <v-card-title>Enregistrement nouveau profil</v-card-title>\n      <v-card-subtitle>Merci de saisir les informations suivantes.</v-card-subtitle>\n      <v-card-text class=\"d-flex flex-column\">\n        <div>\n          <v-text-field\n            class=\"mr-12\"\n            v-model=\"newProfile.name\"\n            placeholder=\"Identifiant\"\n            :rules=\"[rules.required, rules.password]\"\n            required\n          ></v-text-field>\n        </div>\n\n        <div>\n          <h4>Age</h4>\n          <v-text-field\n            v-model=\"newProfile.age\"\n            suffix=\"ans\"\n            style=\"max-width: 100px\"\n            :rules=\"[rules.required, rules.password]\"\n            required\n          ></v-text-field>\n        </div>\n\n        <div>\n          <h4>Sexe</h4>\n          <v-radio-group v-model=\"newProfile.sex\" row>\n            <v-radio label=\"Femme\" value=\"woman\"></v-radio>\n            <v-radio label=\"Homme\" value=\"man\"></v-radio>\n            <v-radio label=\"Indéterminé\" value=\"whoknows\"></v-radio>\n          </v-radio-group>\n        </div>\n\n        <div>\n          <h4>Budget mensuel maximum</h4>\n          <v-text-field\n            v-model=\"newProfile.maxBudget\"\n            suffix=\"€\"\n            style=\"max-width: 100px\"\n            :rules=\"[rules.required, rules.password]\"\n            required\n          ></v-text-field>\n        </div>\n\n        <div>\n          <h4>Temps consommation moyen mensuel</h4>\n          <v-text-field\n            v-model=\"newProfile.averageConsumptionTime\"\n            suffix=\"heures\"\n            style=\"max-width: 100px\"\n            :rules=\"[rules.required, rules.password]\"\n            required\n          ></v-text-field>\n        </div>\n      </v-card-text>\n      <v-card-actions class=\"d-flex justify-space-between\">\n        <v-btn text @click=\"goToLogin()\">Retour</v-btn>\n        <v-btn text color=\"primary\" @click=\"register()\">Créer internaute</v-btn>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"Register\",\n\n  data() {\n    return {\n      newProfile: {\n        name: \"\",\n        age: 18,\n        sex: \"whoknows\",\n        maxBudget: 5,\n        averageConsumptionTime: 1,\n      },\n      rules: {\n        required: (value) => !!value || \"Champ requis\",\n        age: (value) => (value && /(?=^[0-9]*$)/.test(value) && value >= 18) || \"Mimimum 18 ans\",\n        maxBudget: (value) => (value && /(?=^[0-9]*$)/.test(value) && value >= 5) || \"Minimum 5€\",\n        averageConsumptionTime: (value) => (value && /(?=^[0-9]*$)/.test(value) && value >= 1) || \"Minimum 1 heure\",\n      },\n    };\n  },\n\n  computed: {\n    ...mapState([\"profile\"]),\n  },\n\n  mounted() {\n    if (this.profile != null) this.$router.push({ name: \"rechercher\" });\n  },\n\n  methods: {\n    goToLogin() {\n      this.$router.push({ name: \"login\" });\n    },\n    register() {\n      this.$axios.post(\"/profile\", this.newProfile).then(\n        (response) => {\n          console.log(response);\n          this.profile = response.data;\n          this.$store.commit(\"setProfile\", response.data);\n          this.$router.push({ name: \"profile\" });\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n    },\n  },\n};\n</script>\n"]}]}