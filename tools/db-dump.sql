;              
CREATE USER IF NOT EXISTS "SA" SALT '855426efa033ec23' HASH 'd18b801bc1818ae910028feff729946409d1915bfd1d21a093357d4e4a9dcd1f' ADMIN;          
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 3;    
CREATE CACHED TABLE "PUBLIC"."PROFILE"(
    "ID" INTEGER NOT NULL,
    "AGE" INTEGER,
    "AVERAGE_CONSUMPTION_TIME" INTEGER,
    "CURRENT_CONSUMPTION_TIME" INTEGER,
    "CURRENT_EXPENSES" INTEGER,
    "MAX_BUDGET" INTEGER,
    "NAME" VARCHAR(255),
    "PREFER_DOWNLOADS_FOR_MUSICS" BOOLEAN NOT NULL,
    "PREFER_DOWNLOADS_FOR_VIDEOS" BOOLEAN NOT NULL,
    "PREFERED_ACTORS" BINARY(255),
    "PREFERED_DIRECTORS" BINARY(255),
    "PREFERED_MUSIC_ARTISTS" BINARY(255),
    "PREFERED_MUSIC_GENRES" BINARY(255),
    "PREFERED_VIDEO_GENRES" BINARY(255),
    "SEX" VARCHAR(255)
);
ALTER TABLE "PUBLIC"."PROFILE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");       
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PROFILE;  
INSERT INTO "PUBLIC"."PROFILE" VALUES
(1, 30, 15, NULL, NULL, 50, 'toto', FALSE, FALSE, X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', 'man'),
(2, 39, 40, NULL, NULL, 30, 'claire', FALSE, FALSE, X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a6578700000000077040000000078', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a65787000000002770400000002737200116a6176612e6c616e672e496e746567657212e2a0a4f781873802000149000576616c7565787200106a6176612e6c616e672e4e756d62657286ac951d0b94e08b0200007870000000137371007e00020000001d78', X'aced0005737200136a6176612e7574696c2e41727261794c6973747881d21d99c7619d03000149000473697a65787000000004770400000004737200116a6176612e6c616e672e496e746567657212e2a0a4f781873802000149000576616c7565787200106a6176612e6c616e672e4e756d62657286ac951d0b94e08b0200007870000000097371007e0002000000067371007e0002000000137371007e00020000000278', 'woman');    
CREATE CACHED TABLE "PUBLIC"."PURCHASE"(
    "ID" INTEGER NOT NULL,
    "DATE" TIMESTAMP,
    "ITEM_ID" VARCHAR(255),
    "ITEM_TITLE" VARCHAR(255),
    "RATING" DOUBLE,
    "PROFILE_ID" INTEGER
);          
ALTER TABLE "PUBLIC"."PURCHASE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PURCHASE; 
ALTER TABLE "PUBLIC"."PROFILE" ADD CONSTRAINT "PUBLIC"."UK_H0MISXFXI90TXD9E2CF1OWM8J" UNIQUE("NAME");          
ALTER TABLE "PUBLIC"."PURCHASE" ADD CONSTRAINT "PUBLIC"."FK3HJ2YURIES0GSQLV5WM8BWF94" FOREIGN KEY("PROFILE_ID") REFERENCES "PUBLIC"."PROFILE"("ID") NOCHECK;   
